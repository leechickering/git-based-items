---
itemId:sw-198
itemType: Software Item Spec
itemTitle: Detail Design Aspect 1: App start
itemFulfills: Account access control (obsolete),MMA-2849,MMA-2850,MMA-2851,MMA-2852,MMA-2857,MMA-2888,MMA-2889,MMA-2890,MMA-2891,MMA-2892,MMA-2893,MMA-2894,MMA-2895,MMA-2896,MMA-2897,MMA-2898,MMA-2899,MMA-2900,MMA-2901,MMA-2902,MMA-2903
Software item type: SDD
---
The app uses the auth0 standard to grant users access to the application and the application backend API.
 
When the application is launched, it first initializes the StrykerAuth's AIAppEngine with below app specific authentication configurations -
1. Policy as authentication
2. API scope as mako cases
3. App's unique redirection URI used to invoke the app from authentication web flow
4. Client Identifier for supported backend environments
 
App renders AuthenticationWrapperView by StrykerAuth and provides unauthenticated and authenticated view constructs.

This wrapper view works in conjunction with AIAppEngine to read the last stored authentication state -
* if StrykerAuth does not find a previously stored valid authenticated state then it uses the unauthenticated view construct to render the Login UI. 
	* Login UI requires users input to trigger the authentication flow provided by StrykerAuth and once the authentication flow successfully completes then it provides an authenticated user object to initialize the AuthenticatedFeature store.
	* During the authentication flow, if StrykerAuth throws an error, then we handle the error by displaying a guidance message to the user for guidance purpose. Currently, we only handle 'blocked user' error.
* if StrykerAuth finds a previously stored authenticated state then it provides the cached authenticated user object to the authenticated view construct to initialize the AuthenticatedFeature store.

Along with initializing the AuthenticatedFeature store, the app also initializes -
* MyMakoData's DataClient object and
* StrykerCore's NotificationProxy with mako cases endpoint health cloud notification client object to register. 
	* StrykerCore invokes the UNUserNotificationCenter API to request permission from the user to display notifications. If the user rejects permission access, the Apple User Notification API silently prevents push notifications sent from the backend to the application, or locally scheduled notifications, from being displayed. The user can re-enable notifications via the OS Settings app entry for myMako.

 
This AuthenticationWrapperView also binds the biometric lock modifier provided by StrykerAuth. The biometric lock criteria requires the user is authenticated to use the app. 
 
 
 

 